// Generated by CoffeeScript 1.4.0

/*
	FlexNav.js 0.4

	Copyright 2013, Jason Weaver http://jasonweaver.name
	Released under the WTFPL license
	http://sam.zoy.org/wtfpl/
*/


(function() {
  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  $.fn.flexNav = function(options) {
    var $this, is_touch_device, resizer, settings;
    settings = $.extend({
      'breakpoint': '800',
      'animationSpeed': 'fast'
    }, $this = $(this), resizer = function() {
      if ($(window).width() < settings.breakpoint) {
        $("body").removeClass("lg-screen").addClass("sm-screen");
      } else {
        $("body").removeClass("sm-screen").addClass("lg-screen");
      }
      if ($(window).width() >= settings.breakpoint) {
        return $(this).show();
      }
    }, is_touch_device = function() {
      return !!(__indexOf.call(window, 'ontouchstart') >= 0);
    }, is_touch_device() ? $('html').addClass('flexNav-touch') : $('html').addClass('flexNav-no-touch'), $(this).find("li").each(function() {
      if ($(this).has("ul").length) {
        return $(this).addClass("item-with-ul");
      }
    }), $('.menu-button').click(function() {
      return $this.slideToggle(settings.animationSpeed);
    }), $('.item-with-ul').click(function() {
      return $(this).find('.sub-menu').slideToggle(settings.animationSpeed);
    }));
    resizer();
    return $(window).on('resize', resizer);
  };

}).call(this);
