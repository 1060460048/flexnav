/*! flexnav https://github.com/indyplanets/flexnav http://unlicense.org/ 2013-08-02 */
!function(){$.fn.flexNav=function(a){var b,c,d,e,f,g;return g=$.extend({animationSpeed:100,buttonSelector:".menu-button"},a),b=$(this),d=!1,c=!1,b.find("li").each(function(){var a;return $(this).has("ul").length&&$(this).addClass("item-with-ul").find("ul").hide(),b.data("breakpoint")?a=b.data("breakpoint"):void 0}),e=function(){return $(window).width()<=breakpoint?(b.removeClass("lg-screen").addClass("sm-screen"),$(".one-page li a").on("click",function(){return b.removeClass("show")}),$(".item-with-ul").off()):(b.removeClass("sm-screen").addClass("lg-screen"),b.removeClass("show"),$(".item-with-ul").on("mouseenter",function(){return $(this).find(">ul").addClass("show").stop(!0,!0).slideDown(g.animationSpeed)}).on("mouseleave",function(){return $(this).find(">ul").removeClass("show").stop(!0,!0).slideUp(g.animationSpeed)}))},$(g.buttonSelector).data("navEl",b),f=".item-with-ul, "+g.buttonSelector,$(f).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),f=g.buttonSelector+", "+g.buttonSelector+" .touch-button",$(f).on("touchstart mousedown",function(a){return a.preventDefault(),a.stopPropagation(),console.log(c),$(this).on("touchmove mousemove",function(a){var b;return b=a.pageX,c=!0,$(window).off("touchmove mousemove")})}).on("touchend mouseup",function(a){var b,e,f;if(a.preventDefault(),a.stopPropagation(),f=g.buttonSelector,b=$(this).is(f)?$(this):$(this).parent(f),e=b.data("navEl"),c=!1,c===!1){if(console.log("clicked"),d===!1)return e.addClass("show"),d=!0;if(d===!0)return e.removeClass("show"),d=!1}}),$(".touch-button").on("touchstart mousedown",function(a){return a.stopPropagation(),a.preventDefault(),$(this).on("touchmove mousemove",function(){return c=!0,$(window).off("touchmove mousemove")})}).on("touchend mouseup",function(a){var c;return a.preventDefault(),a.stopPropagation(),c=$(this).parent(".item-with-ul").find(">ul"),b.hasClass("lg-screen")===!0&&$(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide(),c.hasClass("show")===!0?c.removeClass("show").slideUp(g.animationSpeed):c.hasClass("show")===!1?c.addClass("show").slideDown(g.animationSpeed):void 0}),b.find(".item-with-ul *").focus(function(){return $(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),$(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),e(),$(window).on("resize",e)}}.call(this);