// Generated by CoffeeScript 1.6.1
/*
	FlexNav.js 0.6

	Copyright 2013, Jason Weaver http://jasonweaver.name
	Released under the WTFPL license
	http://sam.zoy.org/wtfpl/

//
*/(function(){$.fn.flexNav=function(e){var t,n,r,i,s,o,u,a,f;f=$.extend({animationSpeed:"fast"},e,u=!1,t=$(this),t.data("breakpoint")?i=t.data("breakpoint"):void 0,t.data("breakpoint-em")?(o="<div class='hidden-text'>M and FlexNav</div>",$("body").append(o),n=$(".hidden-text"),n.css({display:"inline-block",padding:"0","line-height":"1",position:"absolute",visibility:"hidden","font-size":"1em"}),s=t.data("breakpoint-em"),r=n.css("font-size"),i=s*parseInt(r),console.log(i),n.remove()):void 0,a=function(){if($(window).width()<=i){t.removeClass("lg-screen").addClass("sm-screen");$(".one-page li a").on("click",function(){return t.removeClass("show")});return $(".item-with-ul").off()}t.removeClass("sm-screen").addClass("lg-screen");t.removeClass("show");return $(".item-with-ul").on({mouseenter:function(){return $(this).find(">ul").addClass("show")},mouseleave:function(){return $(this).find(">ul").removeClass("show")}})},$(this).find("li").each(function(){if($(this).has("ul").length)return $(this).addClass("item-with-ul")}),$(".item-with-ul, .menu-button").append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),$(".menu-button, .menu-button .touch-button").on("touchstart click",function(e){e.stopPropagation();e.preventDefault();if(u===!1){t.addClass("show");return u=!0}if(u===!0){t.removeClass("show");return u=!1}}),$(".touch-button").on("touchstart click",function(e){e.stopPropagation();e.preventDefault();return $(this).parent(".item-with-ul").find(">ul").toggleClass("show")}),$(".item-with-ul *").focus(function(){$(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open");return $(this).parent(".item-with-ul").find(">ul").addClass("open")}));a();return $(window).on("resize",a)}}).call(this);